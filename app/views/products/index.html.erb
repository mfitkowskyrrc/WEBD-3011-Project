<p style="color: green"><%= notice %></p>

<% content_for :title, "Products" %>

<h1>Products</h1>

<div id="filter" class="d-flex justify-content-end">
  <%= form_with(url: products_path, method: :get, local: true) do |form| %>
    <div class="form-group">
      <%= form.label :category, "Filter by category:"%>
      <%= form.select :category, options_from_collection_for_select(@categories, :id, :name, selected: params[:category]), prompt: "Select a Category", class: "form-control form-control-sm" %>
      <%= form.submit "Filter", class: "btn btn-outline-dark btn-sm" %>
    </div>
  <% end %>
</div>

<div id="products">
  <div class="row">
    <% @products.each do |product| %>
      <div class="col-md-4 mb-4">
        <%= render partial: "product", locals: { product: product, action_name: 'index' } %>
      </div>
    <% end %>
  </div>
</div>

<%= link_to "New product", new_product_path, class: 'btn btn-outline-dark' %>
